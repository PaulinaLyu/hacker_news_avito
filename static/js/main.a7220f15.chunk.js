(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{122:function(e,t){},141:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),a=n.n(s),i=n(24),r=n.n(i),o=n(19),j=n(13),l=n(5),m=n(28),d=n(29),u=n(4),b=n(26),f=n(27),O=n(31),x=n(30),h=n(16),p=n(64).create({baseURL:"https://hacker-news.firebaseio.com/v0/"}),w=function(){return p.get("/newstories.json").then((function(e){return e.data}))},g=function(e){return p.get("/item/".concat(e,".json")).then((function(e){return e.data}))},N=function(e){return p.get("item/".concat(e,".json")).then((function(e){return e.data}))},v=function(e){return p.get("item/".concat(e,".json")).then((function(e){return e.data}))},C="SET_NEWS",k="RESET_NEWS",y={news:[]},E=function(e){return function(t){g(e).then((function(e){e&&t({type:C,news:e})}))}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(u.a)(Object(u.a)({},e),{},{news:e.news.length&&e.news[0].time<t.news.time?[t.news].concat(Object(h.a)(e.news)):[].concat(Object(h.a)(e.news),[t.news])});case k:return Object(u.a)(Object(u.a)({},e),{},{news:[]});default:return e}},T=n(32),_=function(){return Object(c.jsx)("div",{className:"preloader",children:Object(c.jsxs)("div",{className:"preloader__inner",children:[Object(c.jsx)(T.a,{animation:"border",variant:"warning"}),Object(c.jsx)(T.a,{animation:"border",variant:"warning"}),Object(c.jsx)(T.a,{animation:"border",variant:"warning"})]})})},S=n(15),L=n.n(S),P=n(40),I=function(e){var t=Math.floor((new Date-1e3*e)/1e3),n=Math.floor(t/31536e3);return n>1?"".concat(n," years"):(n=Math.floor(t/2592e3))>1?"".concat(n," months"):(n=Math.floor(t/86400))>1?"".concat(n," days"):(n=Math.floor(t/3600))>1?"".concat(n," h"):(n=Math.floor(t/60))>1?"".concat(n," min"):"".concat(Math.floor(t)," sec")},D=function(e){var t=e.icon,n=e.text,s=e.classValue;return Object(c.jsxs)("div",{className:s,children:[Object(c.jsx)("i",{className:t}),Object(c.jsx)("span",{className:"ml-2",children:n})]})},R=function(e){var t=e.news,n=L.a.unix(t.time);return Object(c.jsx)(j.b,{to:"/news/".concat(t.id),children:Object(c.jsx)(P.a,{className:"mb-3 w-100",children:Object(c.jsx)(P.a.Body,{children:Object(c.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(c.jsx)("div",{className:"mr-4",children:Object(c.jsx)("div",{className:"text-warning",children:Object(c.jsx)("h5",{children:I(t.time)})})}),Object(c.jsxs)("div",{className:"ml-2  w-100",children:[Object(c.jsx)("h5",{children:t.title}),Object(c.jsxs)("div",{className:"d-flex mt-2 justify-content-between",children:[Object(c.jsxs)("div",{className:"d-flex text-black-50",children:[Object(c.jsx)(D,{icon:"fas fa-user-alt",text:t.by}),Object(c.jsx)(D,{icon:"fas fa-star",text:t.score,classValue:"ml-3"}),Object(c.jsx)(D,{icon:"fas fa-comments",text:t.kids?t.kids.length:0,classValue:"ml-3"})]}),Object(c.jsxs)("div",{className:"d-flex fs-6 date-time",children:[Object(c.jsx)(D,{icon:"fa fa-calendar-o",text:n.format("LTS")}),Object(c.jsx)(D,{classValue:"ml-3",icon:"fa fa-clock-o",text:n.format("LL")})]})]})]})]})})})})},K=n(68),V=function(e){var t=e.icon,n=e.onClickFunction,s=e.id;return Object(c.jsx)(K.a,{className:"btn mb-4",variant:"outline-warning",onClick:function(){n(s)},children:Object(c.jsx)("i",{className:"fas ".concat(t)})})},F=function(e){var t=e.news,n=e.getNewsIds;return Object(c.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(c.jsx)(V,{icon:"fa-sync-alt",onClickFunction:n}),t.map((function(e){return Object(c.jsx)(R,{news:e},e.id)}))]})},W=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.getNewsIds()}},{key:"render",value:function(){return 50!==this.props.news.length?Object(c.jsx)(_,{}):Object(c.jsx)(F,Object(u.a)({},this.props))}}]),n}(a.a.Component),B=Object(o.b)((function(e){return{news:e.mainPage.news}}),{getNewsIds:function(){return function(e){e({type:k}),w().then((function(t){for(var n=50;n>0;n--)e(E(t[n]))}))}}})(W),U=n(14),Y="SET_NEWS_PROFILE",G="TOGGLE_IS_LOADING",J="SET_COMMENT",z="RESET_COMMENTS",A="RESET_KIDS",H="SET_KIDS_COMMENT",q="INCREMENT_COMMENTS_COUNT",Q="RESET_COMMENTS_COUNT",X="INCREMENT_DELETE_COMMENTS_COUNT",Z="RESET_DELETE_COMMENTS_COUNT",$={newsProfile:{},comments:[],kids:[],commentsCount:0,isLoading:!1,deleteCommentsCount:0},ee=function(e){return{type:G,isLoading:e}},te=function(){return{type:z}},ne=function(){return{type:Q}},ce=function(){return{type:Z}},se=function(e){return function(t){N(e).then((function(e){e.deleted?t({type:X}):(t({type:J,comment:e}),t({type:q}))}))}},ae=function(e){return function(t){t({type:A}),v(e).then((function(e){e.deleted||t({type:H,kid:e})}))}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(u.a)(Object(u.a)({},e),{},{newsProfile:t.newsProfile});case J:return Object(u.a)(Object(u.a)({},e),{},{comments:e.comments.length&&e.comments[0].time<t.comment.time?[t.comment].concat(Object(h.a)(e.comments)):[].concat(Object(h.a)(e.comments),[t.comment])});case H:return Object(u.a)(Object(u.a)({},e),{},{kids:[t.kid].concat(Object(h.a)(e.kids))});case z:return Object(u.a)(Object(u.a)({},e),{},{comments:[]});case A:return Object(u.a)(Object(u.a)({},e),{},{kids:[]});case q:return Object(u.a)(Object(u.a)({},e),{},{commentsCount:++e.commentsCount});case Q:return Object(u.a)(Object(u.a)({},e),{},{commentsCount:0});case X:return Object(u.a)(Object(u.a)({},e),{},{deleteCommentsCount:++e.deleteCommentsCount});case Z:return Object(u.a)(Object(u.a)({},e),{},{deleteCommentsCount:0});case G:return Object(u.a)(Object(u.a)({},e),{},{isLoading:t.isLoading});default:return e}},re=n(144),oe=function(e){var t=e.url,n=e.text,s=e.icon;return Object(c.jsx)(j.b,{to:"".concat(t),children:Object(c.jsxs)("h5",{children:[Object(c.jsx)("i",{className:s}),Object(c.jsx)("span",{className:"ml-2",children:n})]})})},je=function(e){var t=e.newsProfile,n=e.commentsCount,s=L.a.unix(t.time);return Object(c.jsxs)("div",{className:"d-flex mt-3",children:[Object(c.jsx)(re.a,{sm:2,className:"pl-0",children:Object(c.jsxs)("div",{className:"d-flex flex-column align-items-start",children:[Object(c.jsx)("div",{children:Object(c.jsx)("span",{children:s.format("MMMM, YYYY")})}),Object(c.jsx)("div",{style:{fontSize:"30px",fontWeight:"700"},children:s.format("DD")}),Object(c.jsx)("div",{className:"text-warning",children:Object(c.jsx)("span",{children:s.format("LTS")})})]})}),Object(c.jsx)(re.a,{sm:10,children:Object(c.jsxs)("div",{className:"mb-5 ml-3 pl-5 border-left border-warning",children:[Object(c.jsx)("h3",{children:t.title}),Object(c.jsx)(D,{icon:"fas fa-user-alt",text:t.by,classValue:"mt-2 mb-2 text-black-50"}),Object(c.jsx)(D,{icon:"fas fa-comments",text:t.kids?n:0,classValue:"mt-2 mb-2 text-black-50"}),Object(c.jsx)(oe,{url:t.url,icon:"fas fa-arrow-right",text:"News link"})]})})]})},le=n(20),me=n(65),de=n.n(me),ue=function(e){var t=e.text;return Object(c.jsxs)(c.Fragment,{children:[" ",de()(t)," "]})},be=function(e){var t=e.kid,n=L.a.unix(t.time);return Object(c.jsx)(le.a,{className:"mb-4 mt-4 ml-5",children:Object(c.jsxs)(le.a.Body,{className:"kid",children:[Object(c.jsx)("h6",{style:{fontWeight:"700"},className:"text-success mb-3",children:t.by}),Object(c.jsx)("div",{className:"pl-5",id:"parentKid".concat(t.id),children:Object(c.jsx)(ue,{text:t.text})}),Object(c.jsxs)("div",{className:"d-flex date-time pl-5 mt-3 text-black-50",children:[Object(c.jsx)(D,{icon:"fa fa-calendar-o",text:n.format("LTS")}),Object(c.jsx)(D,{icon:"fa fa-clock-o",text:n.format("LL"),classValue:"ml-4"})]})]})})},fe=function(e){var t=e.comment,n=e.kids,s=e.getKidsComments,a=L.a.unix(t.time);return Object(c.jsx)(le.a,{className:"mb-5 mt-3",children:Object(c.jsxs)(le.a.Body,{className:"fs-5",children:[Object(c.jsx)("h5",{style:{fontWeight:"700"},className:"text-warning mb-3",children:t.by}),Object(c.jsx)("div",{className:"pl-5",children:Object(c.jsx)(ue,{text:t.text})}),Object(c.jsxs)("div",{className:"d-flex date-time pl-5 mt-3 text-black-50",children:[Object(c.jsx)(D,{icon:"fa fa-calendar-o",text:a.format("LTS")}),Object(c.jsx)(D,{icon:"fa fa-clock-o",text:a.format("LL"),classValue:"ml-4"}),Object(c.jsx)(D,{icon:"far fa-comments",text:t.kids?t.kids.length:0,classValue:"ml-4"}),t.kids?Object(c.jsx)("div",{className:"btn__more",onClick:function(){s(t.kids)},children:"Comments"}):Object(c.jsx)("div",{})]}),n.length&&n[0].parent===t.id?n.map((function(e){return Object(c.jsx)(be,{kid:e},e.id)})):Object(c.jsx)("div",{})]})})},Oe=function(e){var t=e.comments,n=e.getKidsComments,s=e.kids,a=e.commentsLength,i=e.deleteCommentsCount;return Object(c.jsx)(c.Fragment,{children:t.length&&t.length!==a-i?Object(c.jsx)(_,{}):t.map((function(e){return Object(c.jsx)(fe,{comment:e,getKidsComments:n,kids:s},e.id)}))})},xe=function(e){var t=e.newsProfile,n=e.comments,s=e.kids,a=e.commentsCount,i=e.updateComments,r=e.getKidsComments,o=e.deleteCommentsCount;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(oe,{url:"/",text:"Back",icon:"fas fa-arrow-left"}),Object(c.jsx)(je,{newsProfile:t,commentsCount:a}),Object(c.jsxs)("div",{className:"d-flex flex-column w-100 mt-3",children:[Object(c.jsx)("h3",{className:"mb-4",children:"Comments"}),Object(c.jsx)(V,{icon:"fa-sync-alt",onClickFunction:i,id:t.kids}),n.length?Object(c.jsx)(Oe,{comments:n,getKidsComments:r,kids:s,commentsLength:t.kids.length,deleteCommentsCount:o}):Object(c.jsx)("h5",{children:"No comments"})]})]})},he=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.newsId;this.props.getNewsProfile(e)}},{key:"render",value:function(){return this.props.isLoading?Object(c.jsx)(_,{}):Object(c.jsx)(xe,Object(u.a)({},this.props))}}]),n}(a.a.Component),pe=Object(U.compose)(Object(o.b)((function(e){return{newsProfile:e.newsPage.newsProfile,isLoading:e.newsPage.isLoading,comments:e.newsPage.comments,kids:e.newsPage.kids,commentsCount:e.newsPage.commentsCount,deleteCommentsCount:e.newsPage.deleteCommentsCount}}),{getNewsProfile:function(e){return function(t){t(ee(!0)),t(ne()),t(te()),t(ce()),g(e).then((function(e){t({type:Y,newsProfile:e}),e.kids&&e.kids.forEach((function(e){t(se(e))})),t(ee(!1))}))}},updateComments:function(e){return function(t){t(ne()),t(te()),t(ce()),e?e.forEach((function(e){t(se(e))})):t(te())}},getKidsComments:function(e){return function(t){e.forEach((function(e){return t(ae(e))}))}}}),l.e)(he),we=function(){return Object(c.jsx)(j.b,{to:"/",className:"logo",children:"Hacker News"})},ge=function(){return Object(c.jsx)("div",{bg:"warning",className:"d-flex align-items-center justify-content-between py-3 mb-4 bg-warning",children:Object(c.jsx)(m.a,{children:Object(c.jsx)(d.a,{className:"d-flex align-items-center justify-content-between",children:Object(c.jsx)(we,{})})})})};var Ne=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ge,{}),Object(c.jsx)(m.a,{children:Object(c.jsxs)(d.a,{className:"d-flex flex-column",children:[Object(c.jsx)(l.a,{exact:!0,path:"/",render:function(){return Object(c.jsx)(B,{})}}),Object(c.jsx)(l.a,{path:"/news/:newsId?",render:function(){return Object(c.jsx)(pe,{})}})]})})]})},ve=n(66),Ce=n(67),ke=Object(U.combineReducers)({mainPage:M,newsPage:ie}),ye=Object(U.createStore)(ke,Object(ve.composeWithDevTools)(Object(U.applyMiddleware)(Ce.a)));window.store=ye;var Ee=ye;n(140),n(141);r.a.render(Object(c.jsx)(j.a,{basename:"/hacker_news_react_redux",children:Object(c.jsx)(o.a,{store:Ee,children:Object(c.jsx)(Ne,{})})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.a7220f15.chunk.js.map